var gdjs;(function(l){let T;(function(u){const p=new l.Logger("Tilemap object");class s{constructor(e){this._instanceContainer=e,this._manager=new TileMapHelper.TileMapManager}static getManager(e){return e.tileMapCollisionMaskManager||(e.tileMapCollisionMaskManager=new s(e)),e.tileMapCollisionMaskManager}getOrLoadTileMap(e,t,i,n){this._manager.getOrLoadTileMap(this._loadTileMap.bind(this),e,t,i,pako,n)}getOrLoadSimpleTileMap(e,t,i,n,r,a){this._manager.getOrLoadSimpleTileMap(e,t,i,n,r,a)}getOrLoadTextureCache(e,t,i,n,r,a){this._manager.getOrLoadTextureCache(this._loadTileMap.bind(this),e,t,i,n,r,a)}getOrLoadSimpleTileMapTextureCache(e,t,i,n,r,a){this._manager.getOrLoadSimpleTileMapTextureCache(e,t,i,n,r,a)}_loadTileMap(e,t,i){this._instanceContainer.getGame().getJsonManager().loadJson(e,(n,r)=>{if(n){p.error("An error happened while loading a Tilemap JSON data:",n),i(null);return}const a=TileMapHelper.TileMapManager.identify(r);if(!a){i(null);return}a.kind==="tiled"&&t?this._instanceContainer.getGame().getJsonManager().loadJson(t,(o,d)=>{if(o){p.error("An error happened while loading Tileset JSON data:",o),i(null);return}const M=a.data,g=d;g.firstgid=M.tilesets[0].firstgid,M.tilesets=[g],i(a)}):i(a)})}}u.TileMapRuntimeManager=s})(T=l.TileMap||(l.TileMap={}))})(gdjs||(gdjs={}));
//# sourceMappingURL=TileMapRuntimeManager.js.map
